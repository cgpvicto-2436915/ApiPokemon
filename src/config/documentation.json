
{
    "openapi": "3.1.0",
    "info":{
        "title": "API Pokemon",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:3030/",
            "description": "Serveur de développement"
        }
    ],
    "paths" : {
        "/api": {
            "get": {
                "summary": "Message de bienvenue",
                "tags": ["Accueil"],
                "responses": {
                    "200": {
                        "description": "Retourne un message de bienvenue",
                        "content": {
                            "text/html": {
                                "example": "<h1>Mon premier serveur web sur express !</h1>"
                            }
                        }
                    }
                }
            }
        },
        "/api/pokemons/{id}": {
            "get": {
                "summary": "Récupérer un pokemon",
                "tags": ["Pokemon ID"],
                "description": "Récupérer un pokemon en fonction de son id",
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Id du pokemon",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "example" : "1"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pokemon retrouvée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "nom": {
                                            "type": "string",
                                            "example": "Bulbasaur"
                                        },
                                        "type_primaire":{
                                            "type": "string",
                                            "example": "Grass"
                                        },
                                        "type_secondaire":{
                                            "type": "string",
                                            "example": "Poison"
                                        },
                                        "pv":{
                                            "type":"integer",
                                            "example":45
                                        },
                                        "attaque":{
                                            "type":"integer",
                                            "example":49
                                        },
                                        "defense":{
                                            "type":"integer",
                                            "example":49
                                        }
                                        
                                    }
                                }
                            }
                        }
                    },
                    "404" : {
                        "description": "Pokemon introuvable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "erreur": {
                                            "type": "string",
                                            "example": "Pokemon introuvable avec l'id"
                                        }
                                    }
                                }   
                            }
                        }
                    },
                    "500" : {
                        "description": "Erreur lors de la requête SQL",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "erreur": {
                                            "type": "string",
                                            "example": "Echec lors de la récupération du pokemon avec l'id"
                                        }
                                    }
                                }   
                            }
                        }
                    }
                }
            }
        },
        "/api/pokemons/liste":{
        
            "get": {
                "summary": "Récupérer une page de la liste de pokemons",
                "tags": ["Pokemon ID"],
                "description": "Récupérer un pokemon en fonction de son id",
                "parameters": [
                    {
                        "in": "query",
                        "name": "page",
                        "description": "Numero de la page de 25 pokemon",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "example" : "1"
                        }
                    },
                    {
                        "in": "query",
                        "name": "type",
                        "description": "Type de pokemon",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example" : "grass"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pokemons retrouvée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        
                                        "type":{
                                            "type": "string",
                                            "example": "grass"
                                        },
                                        "nombrePokemonTotal":{
                                            "type": "integer",
                                            "example": "94"
                                        },
                                        "page":{
                                            "type":"integer",
                                            "example":2
                                        },
                                        "totalPage":{
                                            "type":"integer",
                                            "example":4
                                        }
                                        
                                    }
                                }
                            }
                        }
                    },
                    "500" : {
                        "description": "Erreur lors de la requête SQL",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "erreur": {
                                            "type": "string",
                                            "example": "Echec lors de la récupération de la liste des pokemons"
                                        }
                                    }
                                }   
                            }
                        }
                    }
                }
            }
        
        }
    }
}